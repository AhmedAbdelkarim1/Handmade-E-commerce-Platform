using Microsoft.EntityFrameworkCore.Migrations;

#nullable disable

namespace DataAcess.Migrations
{
	/// <inheritdoc />
	public partial class product_refactor3 : Migration
	{
		/// <inheritdoc />
		protected override void Up(MigrationBuilder migrationBuilder)
		{
			migrationBuilder.DropForeignKey(
				name: "FK_AspNetUsers_Image_ImageId",
				table: "AspNetUsers");

			migrationBuilder.DropForeignKey(
				name: "FK_CustomRequests_Image_ReferenceImageId",
				table: "CustomRequests");

			migrationBuilder.DropForeignKey(
				name: "FK_Products_Image_ImageId",
				table: "Products");

			migrationBuilder.DropForeignKey(
				name: "FK_Services_Image_ImageId",
				table: "Services");

			migrationBuilder.DropPrimaryKey(
				name: "PK_Image",
				table: "Image");

			migrationBuilder.RenameTable(
				name: "Image",
				newName: "Images");

			migrationBuilder.AddPrimaryKey(
				name: "PK_Images",
				table: "Images",
				column: "Id");

			migrationBuilder.AddForeignKey(
				name: "FK_AspNetUsers_Images_ImageId",
				table: "AspNetUsers",
				column: "ImageId",
				principalTable: "Images",
				principalColumn: "Id");

			migrationBuilder.AddForeignKey(
				name: "FK_CustomRequests_Images_ReferenceImageId",
				table: "CustomRequests",
				column: "ReferenceImageId",
				principalTable: "Images",
				principalColumn: "Id",
				onDelete: ReferentialAction.Cascade);

			migrationBuilder.AddForeignKey(
				name: "FK_Products_Images_ImageId",
				table: "Products",
				column: "ImageId",
				principalTable: "Images",
				principalColumn: "Id",
				onDelete: ReferentialAction.Cascade);

			migrationBuilder.AddForeignKey(
				name: "FK_Services_Images_ImageId",
				table: "Services",
				column: "ImageId",
				principalTable: "Images",
				principalColumn: "Id",
				onDelete: ReferentialAction.SetNull);
		}

		/// <inheritdoc />
		protected override void Down(MigrationBuilder migrationBuilder)
		{
			migrationBuilder.DropForeignKey(
				name: "FK_AspNetUsers_Images_ImageId",
				table: "AspNetUsers");

			migrationBuilder.DropForeignKey(
				name: "FK_CustomRequests_Images_ReferenceImageId",
				table: "CustomRequests");

			migrationBuilder.DropForeignKey(
				name: "FK_Products_Images_ImageId",
				table: "Products");

			migrationBuilder.DropForeignKey(
				name: "FK_Services_Images_ImageId",
				table: "Services");

			migrationBuilder.DropPrimaryKey(
				name: "PK_Images",
				table: "Images");

			migrationBuilder.RenameTable(
				name: "Images",
				newName: "Image");

			migrationBuilder.AddPrimaryKey(
				name: "PK_Image",
				table: "Image",
				column: "Id");

			migrationBuilder.AddForeignKey(
				name: "FK_AspNetUsers_Image_ImageId",
				table: "AspNetUsers",
				column: "ImageId",
				principalTable: "Image",
				principalColumn: "Id");

			migrationBuilder.AddForeignKey(
				name: "FK_CustomRequests_Image_ReferenceImageId",
				table: "CustomRequests",
				column: "ReferenceImageId",
				principalTable: "Image",
				principalColumn: "Id",
				onDelete: ReferentialAction.Cascade);

			migrationBuilder.AddForeignKey(
				name: "FK_Products_Image_ImageId",
				table: "Products",
				column: "ImageId",
				principalTable: "Image",
				principalColumn: "Id",
				onDelete: ReferentialAction.Cascade);

			migrationBuilder.AddForeignKey(
				name: "FK_Services_Image_ImageId",
				table: "Services",
				column: "ImageId",
				principalTable: "Image",
				principalColumn: "Id",
				onDelete: ReferentialAction.SetNull);
		}
	}
}
